var Atlas=angular.module("Atlas",["ui.router"]);Atlas.config(["$compileProvider",function(t){t.debugInfoEnabled(!1)}]),Atlas.provider("atRouter",["$urlRouterProvider",function(t){var e=function(e){t.otherwise(e)},o=function(){return{}};return{$get:o,defaultRoute:e}}]),Atlas.provider("atBlog",["$stateProvider",function(t){var e={},o=function(t,e,o){return{data:t,prefix:e,postArray:o}};t.state("blog",{"abstract":!0,url:"/blog",views:{"root@":{templateUrl:"vendor/atlas/templates/atBlog.html",controller:["$state","$scope","atBlog",function(t,e,o){e.getPost=function(t,n){o.getPostJson(t,n,function(t){e.atPost=t})},e.getArray=function(t){o.getPostArray(t,function(t){e.blogNav=t})}}]}}});var n=function(n,r,a,s){return e[n]=new o(r,a,s),t.state("blog."+n,{url:"/"+n+"/:postId",views:{"post@blog":{templateUrl:"vendor/atlas/templates/atBlogPost.html",controller:["$state","$scope",function(t,e){e.getPost(n,t.params.postId)}]},"nav@blog":{templateUrl:"vendor/atlas/templates/atBlogNav.html",controller:["$scope",function(t){t.blog=n,t.getArray(n)}]}}}),this},r=["$http",function(t){var o=e,n=function(e,n,a){if(""==n)r(e,function(r){n=r[0].id;var s=o[e];t.get(s.data+"/"+s.prefix+n+".json").success(function(t){a&&a(t)}).error(function(t,e){console.error("atlas failed to retrieve: "+s.prefix+n+".json","\nstatus: "+e)})});else{var s=o[e];t.get(s.data+"/"+s.prefix+n+".json").success(function(t){a&&a(t)}).error(function(t,e){console.error("atlas failed to retrieve: "+s.prefix+n+".json","\nstatus: "+e)})}},r=function(e,n){t.get(o[e].postArray).success(function(t){n&&n(t)})};return{getPostJson:n,getPostArray:r}}];return{$get:r,createBlog:n}}]),Atlas.config(["$stateProvider",function(t){t.state("atlas",{url:"/atlas",views:{"root@":{templateUrl:"vendor/atlas/templates/atlas.html"}}})}]),Atlas.constant("AT_POST_SECTION_TYPE",{text:16,image:32,video:48}),Atlas.factory("FAtPostSection",["AT_POST_SECTION_TYPE",function(t){var e=function(e,o,n){switch(o=o||"",e){case t.text:return{type:"text",content:o};case t.image:return n=n||"",{type:"image",content:o,caption:n};case t.video:return{type:"video",content:o}}};return e}]),Atlas.controller("CPostCreator",["$scope","FAtPostSection","AT_POST_SECTION_TYPE",function(t,e,o){this.thePost={prefix:"",id:"",title:"",subtitle:"",date:"",author:"",sections:[]},this.SECTION_TYPE=o,this.addSection=function(t){this.thePost.sections.push(new e(t))},this.deleteSection=function(t){this.thePost.sections.splice(t,1)},this.dateSetToday=function(){t.atPost.date.$setViewValue(""),this.thePost.date=moment().format("YYYYMMDD")},this.addSection(o.text),this.exportJson=function(){var t=document.createElement("a");t.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.thePost))),t.setAttribute("download",this.thePost.prefix+"Post"+this.thePost.id+".json"),t.click()}}]),Atlas.provider("atPage",["$stateProvider",function(t){var e={},o=function(t){return{data:t}},n=function(n,r){return e[n]=new o(r),t.state(n,{url:"/"+n+"/:sectionId",views:{"root@":{templateUrl:r,controller:["$state","$scope","$uiViewScroll",function(t,e,o){e.$on("$stateChangeSuccess",function(){""==t.params.sectionId?$("body").animate({scrollTop:"0"},64):o($("#"+t.params.sectionId))})}]}}}),this},r=[function(){return{}}];return{$get:r,createPage:n}}]),Atlas.provider("atNav",[function(){var t=[],e=function(e,o){return t.push({name:e,state:o}),this},o=[function(){var e=t,o=function(){return e};return{getTabs:o}}];return{$get:o,addTab:e}}]),Atlas.directive("atNavBar",[function(){return{restrict:"A",scope:{},templateUrl:"vendor/atlas/templates/atNavBar.html",controller:["$scope","atNav",function(t,e){t.tabs=e.getTabs()}]}}]),Atlas.factory("prependChar",[function(){var t=function(e,o,n){return e=""+e,e.length>=n?e:t(o+e,o,n)};return t}]),Atlas.filter("atDate",[function(){var t=function(t,e){if(t=t||"",t=t.trim(),e=e||!1,8==t.length){var o=moment(t,"YYYYMMDD");return o.format("long"==e?"MMMM Do, YYYY":"us"==e?"MM-DD-YYYY":"YYYY-MM-DD")}return"0000-00-00"};return t}]),Atlas.directive("atCountdown",[function(){return{restrict:"A",scope:{end:"@atCountdown",postMessage:"@atCountdownPost",id:"@atCountdownId"},template:'<h1 id="{{id}}">{{time}}<br><small>{{postMessage}}</small></h1>',controller:["$scope","$interval",function(t,e){e(function(){t.time=moment.duration(moment(t.end).valueOf()-moment().valueOf()).format("D  |  hh : mm : ss")},1e3)}]}}]),Atlas.directive("atCarousel",[function(){}]),console.log("%c\n            $$\\     $$\\                      \n            $$ |    $$ |                     \n  $$$$$$\\ $$$$$$\\   $$ | $$$$$$\\   $$$$$$$\\  \n  \\____$$\\\\_$$  _|  $$ | \\____$$\\ $$  _____| \n  $$$$$$$ | $$ |    $$ | $$$$$$$ |\\$$$$$$   \n $$  __$$ | $$ |$$\\ $$ |$$  __$$ | \\____$$\\  \n \\$$$$$$$ | \\$$$$  |$$ |\\$$$$$$$ |$$$$$$$  | \n  \\_______|  \\____/ \\__| \\_______|\\_______/  \n\nKevin Wang: https://github.com/wangkevin1                            \n\n ","font-family: Consolas, Monaco, monospace; color: #bc2200");var HeadroomComponents=angular.module("HeadroomComponents",["headroom"]);HeadroomComponents.directive("headroomSpacer",function(){return{restrict:"A",scope:{headroomParent:"@headroomSpacer"},controller:["$scope","$element",function(t,e){e.height($("#"+t.headroomParent).height())}]}});